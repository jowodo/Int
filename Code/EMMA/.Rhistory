q()
t$xpop[ ((t$time-1)*5+11) : (10+5*t$time) , ]
t=t3
load("t3")
source("inter.R")
load("t5") 
source("inter.R")
emmacheck(t5) 
help(emmacheck
emmacheck(t5,"yes")
summary(t5) 
t5.ypop 
t4.ypop 
summary(t5) 
t5.Gb.arch 
t5$Gb.arch 
t5$Pb.arch 
t5$ypop
t4$ypop
format(t4) 
summary(t4) 
t4$Gb.arch
t4$Pb.arch
emmacheck(t4)
emmacheck(t4,graph="yes")
emmacheck(t4)
emmacheck(t4,graph="yes",nresp=1)
emmacheck(t4,graph="yes",nresp=2)
emmacheck(t4,graph="yes",nresp=3)
emmacheck(t4,graph="yes",nresp=4)
emmacheck(t4)
help(emmacheck)
emmacheck(t4,graph="no",nresp=1)
format(emmacheck(t4))
format(emmacheck(t4,graph=1))
summary(emmacheck(t4,graph=0))
summary(t4) 
library("dplyr") 
help(filter) 
load("../EMMA/t5") 
df(t5$xpop)
help(df) 
data_frame(t5$xpop) 
library("dplyr") 
data_frame(t5$xpop) %>% head 
data_frame(t5$xpop)$2
data_frame(t5$xpop).
data_frame(t5$xpop) 
t5$xspace[2] 
t5$xspace[:2] 
t5$xspace[,2] 
library("dplyr") 
load("../EMMA/t5") 
t5$xspace[1] 
t5$xspace[:1] 
t5$xspace[,1] 
t5$xspace[:2] 
data_frame(t5$xpop) %>% head 
library("dplyr") 
data_frame(t5$xpop) %>% head 
t5
t5$xpop 
library("dplyr") 
t5$xpop[7374] 
t5$xpop %>% head
t5$xpop[,7374] 
t5$xpop[:7374] 
t5$xpop$7374
t5$xpop[7374,]
t5$xspace[7374,]
t5$yspace[7374,]
summary(t5 
) 
summary(t4) 
t5$Gb
t4$Gb
t4$Gb.arch
t4$t
t4$time
t5$Gb.arch 
t0
t0%Gb
t0 %>% summary
t4$xpop
t4$ypop
t4$ypop %>% sort 
summary(t4) 
t4$ypop 
t4$yspace 
t4$yspace[1,] 
t4$yspace[5,] 
t4$yspace[2405,] 
t4$yspace[13,] 
t4$yspace[2947,] 
t4$yspace[2947,] %>% tail(1)
t4$ypop
t4$yspace[13,] 
t4$xspace[13,] 
t4$xspace[2405,] 
t4$yspace[2405,] 
t4$xspace[5,] 
t4$yspace[5,] 
t4$yspace[5555,] 
t4$yspace[5555,] 
t4$xspace[5555,] 
t4$xspace[,5] 
t4$yspace[5555,] 
t4$xspace[,5]/t4$yspace[,4]
t4$yspace[5555,] 
t4$xspace[,5]/t4$yspace[,4]
t4$yspace[5555,] 
t4$xspace[5555,] 
t4$xspace[,2]/t4$yspace[,3]
t4$xspace[,2]-t4$yspace[,3]
t4$xspace[,2]-t4$yspace[,3] %>% plot 
plot (t4$space[,2],t4$yspace[,3])
plot (t4$xspace[,2],t4$yspace[,3])
plot (t4$xspace[,2],t4$yspace[,3])
plot(t4$xspace[,5],t4$yspace[,4])
ls 
plot(t4$xspace[,5],t4$yspace[,4])
plot (t4$xspace[,2],t4$yspace[,3])
t1$yspace[1,] 
t2$yspace[5,] 
t3$yspace[2947,] 
t4$yspace[2405,] 
t5$yspace[13,] 
t5$yspace[2405,] 
t5$yspace[2947,] 
t5$yspace[5,] 
t5$yspace[1,] 
t3$yspace[2947,] 
t3$yspace
t3$ypop
t5$x
t5$xspace[13,] 
t4$xpop 
t4$xpop %>% head
library("dplyr") 
t4$xpop %>% head
t5$xpop 
t4$ypop 
help(lazyLoad) 
plot(t4$xspace[,5],t4$yspace[,4])
summary(t4) 
data_frame(t5$xpop) %>% head 
summary(emmacheck(t4,graph=0))
library("emma") 
summary(emmacheck(t4,graph=0))
summary(emmacheck(t4,graph=1))
emmacheck(t4,graph=1)
emmacheck(t4,graph="no",nresp=1)
emmacheck(t4,graph="yes")
emmacheck(t4,graph="yes",nresp=1)
emmacheck(t4,graph="yes",nresp=2)
emmacheck(t4,graph="yes",nresp=3)
emmacheck(t4,graph="yes",nresp=4)
source("../../../emma.src/emma/R/estimateModel.R") 
emmacheck(t4,graph="yes",nresp=4)
help(estimateModel) 
??estimateModel
input <- cbind(t4$xpop, t4$ypop) 
fmla <- as.formula(paste(paste("data.matrix(input[,",ncol(x$xpop)+1,":",ncol(x$xpop)+ncol(x$ypop),"])"),"~", paste(colnames(x$xpop),    collapse= "+")))
x<-t4
fmla <- as.formula(paste(paste("data.matrix(input[,",ncol(x$xpop)+1,":",ncol(x$xpop)+ncol(x$ypop),"])"),"~", paste(colnames(x$xpop),    collapse= "+")))
mars.mod <- earth(fmla,degree=2,trace=0,minspan=1,data=input,keepxy=TRUE)
format(mars.mod) 
forecast <- predict(mars.mod,newdata=x$xspace)
forecast
 predicted <- data.frame(forecast)
predicted
t4$yspace
t4$xspace
x<-t5
fmla <- as.formula(paste(paste("data.matrix(input[,",ncol(x$xpop)+1,":",ncol(x$xpop)+ncol(x$ypop),"])"),"~", paste(colnames(x$xpop),    collapse= "+")))
x<-t3
fmla <- as.formula(paste(paste("data.matrix(input[,",ncol(x$xpop)+1,":",ncol(x$xpop)+ncol(x$ypop),"])"),"~", paste(colnames(x$xpop),    collapse= "+")))
mars.mod <- earth(fmla,degree=2,trace=0,minspan=1,data=input,keepxy=TRUE)
format(mars.mod) 
x$yspace
x$yspace %>% layers
x$yspace %>% head
format(mars.mod) 
estimateModel(t3)
estimateModel(t3,"no")
mod<-estimateModel(t3,"no")
estimateModel
source("../../../emma.src/emma/R/estimateModel.R") 
mod<-estimateModel(t3,"no")
mod<-estimateModel(t4,"no")
mod<-estimateModel(t3,"yes")
mod<-estimateModel(t3,"yes",4)
format(mod)
mod<-estimateModel(t3,"yes",4)
mod<-estimateModel(t4,"yes",4)
mod<-estimateModel(t3,"no")
mod<-estimateModel(t2,"no")
mod<-estimateModel(t1,"no")
mod<-estimateModel(t2,"no")
format(mod)
mod<-estimateModel(t2,"no")
t2
t1
t0
t1
t2
t4 %>% tail 
t4 %>% tail(20)
mod<-estimateModel(t2,"yes")
emmacheck
help(emmacheck)
emmacheck(t2,"yes")
emmacheck(t2,"yes",1)
emmacheck(t3,"yes",1)
estimateModel(t5,"no") 
estimateModel(t4,"no") 
t5$yspace
t5$ypop 
t5$ypop <- t4$ypop 
estimateModel(t4,"no") 
estimateModel(t4,"yes") 
mod<-estimateModel(t4,"yes") 
mod<-estimateModel(t5,"yes") 
t5$xpop <- t4$xpop 
mod<-estimateModel(t5,"yes") 
mod<-estimateModel(t4,"yes") 
mod<-estimateModel(t3,"yes") 
mod<-estimateModel(t3,"yes",1) 
t4$ypop 
t4$ypop %>% select (! layers,Cal_vel)
t4$ypop %>% select ( ! layers,Cal_vel)
t4$ypop %>% select( ! layers,Cal)
t4$ypop[,2:3] 
t4$ypop[,1:2] 
x<-t4
x$ypop <- t4$ypop[,1:2] 
mod<-estimateModel(x,"yes")
mod<-estimateModel(t4,"no")
x$
head(x$yspace)
x$yspace <-t4$yspace[,1:2] 
mod<-estimateModel(t4,"no")
mod<-estimateModel(x,"yes")
120*300 
120*300*3.
mod<-estimateModel(t3,"no",1) 
mod<-estimateModel(x,"no")
x$yspace <-t4$yspace[,1] 
x$ypop <- t4$ypop[,1] 
mod<-estimateModel(x,"no")
x$ypop
x$pred <- estimateModel(
x$yspace
mod 
pred <- estimateModel(t4,"no") 
pred 
t1$ypop 
t1$ypop[0]
as.numeric(rownames(t1$ypop))
t4$xpop(as.numeric(rownames(t1$ypop)))
t4$xpop[as.numeric(rownames(t1$ypop))]
t4$tested
t1$tested
t1$xspace[,t1$tested]
t1$xspace[t1$tested,]
estimateModel(t1,"no")
estimateModel(t1,"no")[t1$tested,] 
estimateModel(t1,"no")[t1$tested,] - t1$ypop
estimateModel(t1,"no")[t1$tested,] 
t1$pop 
t1$ypop 
estimateModel(t1,"no")[t1$tested,] - t1$ypop
diff=estimateModel(t1,"no")[t1$tested,] - t1$ypop
diff 
diff *diff 
diff 
diff 
ncol(diff) 
c<-diff[1]
c
c[1] 
c[1,]
c[2,]
length(c)
nrow(c)
emmacheck()
emmacheck(t4,"no") 
check <- emmacheck(t4,"no") 
check <- emmacheck(t4,"no") 
source("../../../emma.src/emma/R/estimateModel.R"
) 
check <- emmacheck(t4,"no") 
c
c[0] 
c[1] 
c[,1] 
c[1,] 
c[0,] 
nrow(c) 
as.numeric(nrow(c))
t2$ypop 
t1$ypop 
t2$ypop 
estimateModel(t2) 
estimateModel(t2,"no") 
np<-estimateModel(t2,"no") 
q
help(predict())
help(predict)
t5 %>% head
t5 %>% head()
